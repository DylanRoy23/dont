# Training options
train:

  algorithm: "PPO"                    # SAC | PPO | A2C
  model_name: "ppo_uav_curriculum"    # Used for tensorboard log name and final save filename
  save_dir: "./models/"
  tensorboard_log: "./training_logs/"
  verbose: 0
  device: "cpu" # use the cpu for PPO and A2C, and the GPU (cuda) for SAC

  # SAC hyperparameters (ignored for PPO/A2C)
  buffer_size: 1_000_000
  learning_starts: 10_000
  tau: 0.005
  ent_coef: "auto"
  target_update_interval: 1
  train_freq: 1
  gradient_steps: 1
  buffer_clear_fraction: 0.5    # Fraction of replay buffer cleared at phase transitions

  # PPO hyperparameters (ignored for SAC/A2C)
  n_epochs: 10       # How many times to reuse each rollout
  gae_lambda: 0.95    # GAE smoothing factor
  clip_range: 0.2      # PPO clipping parameter

  # ------------------------------------------
  # Shared hyperparameters (SAC + PPO + A2C)
  # ------------------------------------------
  learning_rate: 3e-4
  batch_size: 256     # Note: PPO requires batch_size to divide n_steps evenly
  gamma: 0.99
  ent_coef: 0.01   # Ignored by SAC (uses ent_coef above instead)
  vf_coef: 0.5   # Value function loss weight (PPO + A2C only)
  max_grad_norm: 0.5  # Gradient clipping (PPO + A2C only)
  n_steps: 2048  # Rollout length (PPO + A2C only)

  policy_kwargs:
    net_arch: [512, 512]

  # ------------------------------------------
  # Flight Simulator
  # ------------------------------------------
  drone_speed: 25 # The speed of the drone
  speed_var: 3 # The random variations that the speed could change
  drone_turn_rate: 30 # The turn rate of the drone
  turn_var: 5 # The random variation that the turn rate could be off
  dt: 0.6 # The number of seconds per step
  max_steps: 10_000 # The maximum number of steps per episode
  boundary_margin: 0.15 # The margin to the boundary of the environment in percentage of box size for waypoint spawning
  mission_waypoint_count: 3 # The number of waypoints at a time in the drone's mission. There isnt really a need for this to be higher than 3
  caution_dist: 100 # This is the distance between each other that drones start becoming nervous
  critical_dist: 50 # This is the critical distance that will lead the system to a crash

  # ------------------------------------------
  # Curriculum
  # ------------------------------------------
  total_timesteps: 500_000 # The total number of timesteps to train for
  change_frequency: 15_000 # The number of timesteps to wait before changing the environment
  curriculum: # The curriculum for training the agent
    # must start at 0.00
    0.00: # Percentage into training when this environment should be used
      min_box_size: 300 # The minimum box size for this environment in meters
      max_box_size: 300 # The maximum box size for this environment in meters
      num_drones: 1 # The number of drones for this environment
    0.10:
      min_box_size: 300
      max_box_size: 500
      num_drones: 1
    0.20:
      min_box_size: 500
      max_box_size: 600
      num_drones: 2
    0.35:
      min_box_size: 500
      max_box_size: 800
      num_drones: 2
    0.50:
      min_box_size: 600
      max_box_size: 1000
      num_drones: 3
    0.65:
      min_box_size: 600
      max_box_size: 1200
      num_drones: 4
    0.80:
      min_box_size: 800
      max_box_size: 1500
      num_drones: 5